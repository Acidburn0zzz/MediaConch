<h1 id="preforma-mediainfo">PreForma MediaInfo</h1>
<p>Project Acronym: PREFORMA</p>
<p>Grant Agreement number: 619568</p>
<p>Project Title: PREservation FORMAts for culture information/e-archives</p>
<p>Prepared by: MediaArea.net SARL</p>
<ul>
<li>Jérôme Martinez</li>
<li>Dave Rice</li>
<li>Tessa Fallon</li>
<li>Ashley Blewer</li>
<li>Erik Piil</li>
<li>Guillaume Roques</li>
</ul>
<p>Prepared for:</p>
<p>Date: December 31, 2014</p>
<p>Licensed under: Creative Commons CC-BY v4.0</p>
<p>Summary: This reports serves as a snapshot of MediaArea's research, planning, and design work to develop a conformance checker, tentatively entitled PreForma MediaInfo.</p>
<!-- toc -->
<ul>
<li><a href="#project-introduction">Project Introduction</a></li>
<li><a href="#introduction-of-featured-formats">Introduction of Featured Formats</a>
<ul>
<li><a href="#matroska">Matroska</a></li>
<li><a href="#ffv1">FFV1</a></li>
<li><a href="#linear-pcm">Linear PCM</a></li>
</ul></li>
<li><a href="#development-of-a-conformance-checker">Development of a Conformance Checker</a>
<ul>
<li><a href="#implementation-checker">Implementation Checker</a></li>
<li><a href="#policy-checker">Policy Checker</a></li>
<li><a href="#reporter">Reporter</a></li>
<li><a href="#fixer">Fixer</a></li>
<li><a href="#shell">Shell</a></li>
<li><a href="#optimization-for-large-file-size">Optimization for Large File Size</a></li>
<li><a href="#focus-on-fixity">Focus on Fixity</a></li>
<li><a href="#reference-and-test-files">Reference and Test Files</a></li>
</ul></li>
<li><a href="#intended-behavior-by-use-case">Intended Behavior by Use Case</a>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#conformance-checking-at-digitization-time">Conformance Checking at Digitization Time</a></li>
<li><a href="#conformance-checking-at-migration-time">Conformance Checking at Migration Time</a></li>
</ul></li>
<li><a href="#open-source-ecosystem">Open Source Ecosystem</a>
<ul>
<li><a href="#cross-platform-support">Cross Platform Support</a></li>
<li><a href="#online-resources">Online Resources</a></li>
<li><a href="#community-interviews">Community Interviews</a></li>
<li><a href="#advance-improvement-of-standard-specification">Advance Improvement of Standard Specification</a></li>
<li><a href="#sustainable-open-source-business-ecosystem">Sustainable Open Source Business Ecosystem</a></li>
</ul></li>
<li><a href="#architectural-layers">Architectural Layers</a></li>
<li><a href="#transport-layer">Transport layer</a>
<ul>
<li><a href="#preforma-mediainfo-file-on-disk-or-direct-memory-mapping">Preforma MediaInfo: File on disk or direct memory mapping</a></li>
<li><a href="#plugin-integration-proof-of-concept-libcurl">Plugin integration proof of concept: libcURL</a></li>
</ul></li>
<li><a href="#containerwrapper-implementation-checker">Container/Wrapper implementation checker</a>
<ul>
<li><a href="#preforma-mediainfo-matroska-checker">Preforma MediaInfo: Matroska checker</a></li>
<li><a href="#plugin-integration-proof-of-concept-mkvalidator">Plugin integration proof of concept: mkvalidator</a></li>
</ul></li>
<li><a href="#containerwrapper-demultiplexing">Container/Wrapper Demultiplexing</a>
<ul>
<li><a href="#preforma-mediainfo">Preforma MediaInfo</a></li>
<li><a href="#plugin-integration-proof-of-concept-ffmpeg">Plugin integration proof of concept: FFmpeg</a></li>
</ul></li>
<li><a href="#streamessence-implementation-checker">Stream/Essence implementation checker</a>
<ul>
<li><a href="#preforma-mediainfo">Preforma MediaInfo:</a></li>
<li><a href="#plugin-integration-proof-of-concept-jpylyzer">Plugin integration proof of concept: jpylyzer</a></li>
<li><a href="#plugin-integration-proof-of-concept-dv-analyzer">Plugin integration proof of concept: DV Analyzer</a></li>
<li><a href="#optional">Optional</a></li>
</ul></li>
<li><a href="#streamessence-decoder">Stream/Essence decoder</a>
<ul>
<li><a href="#preforma-mediainfo">Preforma MediaInfo</a></li>
<li><a href="#plugin-integration-proof-of-concept-ffmpeg">Plugin integration proof of concept: FFmpeg</a></li>
<li><a href="#plugin-integration-proof-of-concept-openjpeg">Plugin integration proof of concept: OpenJPEG</a></li>
</ul></li>
<li><a href="#containerwrapper-vs-streamessence-coherency-check">Container/Wrapper vs Stream/Essence Coherency Check</a>
<ul>
<li><a href="#preforma-mediainfo">Preforma MediaInfo</a></li>
</ul></li>
<li><a href="#baseband-analyzer">Baseband Analyzer</a>
<ul>
<li><a href="#preforma-mediainfo">Preforma MediaInfo</a></li>
<li><a href="#plugin-integration-proof-of-concept-qctools">Plugin integration proof of concept: QCTools</a></li>
</ul></li>
<li><a href="#hyperviser-controller">Hyperviser (Controller)</a></li>
<li><a href="#human-interface">Human interface</a></li>
<li><a href="#style-guide">Style Guide</a></li>
<li><a href="#source-code-guide">Source Code Guide</a>
<ul>
<li><a href="#portability">Portability</a></li>
<li><a href="#modularity">Modularity</a></li>
<li><a href="#deployment">Deployment</a></li>
<li><a href="#apis">API's</a></li>
</ul></li>
<li><a href="#open-source-practices">Open Source Practices</a>
<ul>
<li><a href="#development">Development</a></li>
<li><a href="#open-source-platforms">Open Source Platforms</a></li>
</ul></li>
<li><a href="#contribution-guide">Contribution Guide</a>
<ul>
<li><a href="#file-naming-conventions">File Naming Conventions</a></li>
<li><a href="#rules-for-qtc-code">Rules for Qt/C++ code:</a></li>
<li><a href="#rules-for-contributing-code">Rules for contributing code</a></li>
<li><a href="#rules-for-contributing-feedback">Rules for contributing feedback</a></li>
<li><a href="#linking">Linking</a></li>
</ul></li>
<li><a href="#license">License</a></li>
<li><a href="#checker-design-conformance-and-coherency">Checker Design: Conformance and Coherency</a></li>
<li><a href="#conformance-check-registry">Conformance Check Registry</a>
<ul>
<li><a href="#conformance-check-registry-requirements">Conformance Check Registry Requirements</a></li>
<li><a href="#elements">Elements</a></li>
</ul></li>
<li><a href="#matroska-conformance-checks-draft">Matroska Conformance Checks (Draft)</a>
<ul>
<li><a href="#extension-test">Extension Test</a></li>
<li><a href="#extension-test-mkv">Extension Test MKV</a></li>
<li><a href="#extension-test-mka">Extension Test MKA</a></li>
<li><a href="#extension-test-mks">Extension Test MKS</a></li>
<li><a href="#extension-test-mk3d">Extension Test MK3D</a></li>
<li><a href="#ebml-element-start">EBML Element Start</a></li>
<li><a href="#ebml-vint-efficiency">EBML vint efficiency</a></li>
<li><a href="#element-id-registered">Element ID Registered</a></li>
<li><a href="#element-size-0x7f-reservation">Element Size 0x7F Reservation</a></li>
<li><a href="#element-size-byte-length-limit">Element Size Byte Length Limit</a></li>
<li><a href="#element-size-unknown">Element Size Unknown</a></li>
<li><a href="#level-0-segment">Level 0 Segment</a></li>
<li><a href="#only-one-ebml-header-recommended">Only One EBML Header recommended</a></li>
<li><a href="#file-size-consistency">File Size Consistency</a></li>
<li><a href="#ebmlversion-presence">EBMLVersion Presence</a></li>
<li><a href="#ebmlreadversion-presence">EBMLReadVersion Presence</a></li>
<li><a href="#ebmlmaxidlength-presence">EBMLMaxIDLength Presence</a></li>
<li><a href="#ebmlmaxsizelength-presence">EBMLMaxSizeLength Presence</a></li>
<li><a href="#doctype-presence">DocType Presence</a></li>
<li><a href="#doctypeversion-presence">DocTypeVersion Presence</a></li>
<li><a href="#doctypereadversion-presence">DocTypeReadVersion Presence</a></li>
<li><a href="#ebml-version-coherency">EBML Version Coherency</a></li>
<li><a href="#ebmlmaxidlength-limits">EBMLMaxIDLength Limits</a></li>
<li><a href="#ebmlmaxsizelength-limit">EBMLMaxSizeLength Limit</a></li>
<li><a href="#ebmlmaxsizelength-matches">EBMLMaxSizeLength Matches</a></li>
<li><a href="#doctype">DocType</a></li>
<li><a href="#doctypeversion-coherency">DocTypeVersion Coherency</a></li>
<li><a href="#doctypeversion-limits">DocTypeVersion Limits</a></li>
<li><a href="#top-elements-coded-on-4-octets">Top Elements Coded on 4 Octets</a></li>
<li><a href="#crc-order">CRC Order</a></li>
<li><a href="#crc-32-size-coherency">CRC-32 Size Coherency</a></li>
<li><a href="#crc-validation">CRC Validation</a></li>
<li><a href="#crc-not-pointlessly-used">CRC Not Pointlessly Used</a></li>
<li><a href="#crc-presence">CRC-Presence</a></li>
<li><a href="#single-segment-composition">Single Segment Composition</a></li>
<li><a href="#seek-presence">Seek-Presence</a></li>
<li><a href="#seekid-presence">SeekID-Presence</a></li>
<li><a href="#seekid-type">SeekID-Type</a></li>
<li><a href="#seekposition-presence">SeekPosition-Presence</a></li>
<li><a href="#segment-info-presence">Segment-Info-Presence</a></li>
<li><a href="#segmentuid-range">SegmentUID-Range</a></li>
<li><a href="#segmentuid-size">SegmentUID-Size</a></li>
<li><a href="#segmentuid-type">SegmentUID-Type</a></li>
<li><a href="#segmentfilename-type">SegmentFilename-Type</a></li>
<li><a href="#prevuid-size">PrevUID-Size</a></li>
<li><a href="#prevuid-type">PrevUID-Type</a></li>
<li><a href="#prevfilename-type">PrevFilename-Type</a></li>
<li><a href="#nextuid-size">NextUID-Size</a></li>
<li><a href="#nextuid-type">NextUID-Type</a></li>
<li><a href="#nextfilename-type">NextFilename-Type</a></li>
<li><a href="#segmentfamily-size">SegmentFamily-Size</a></li>
<li><a href="#segmentfamily-type">SegmentFamily-Type</a></li>
<li><a href="#timecodescale-presence">TimecodeScale-Presence</a></li>
<li><a href="#duration-range">Duration-Range</a></li>
<li><a href="#duration-type">Duration-Type</a></li>
<li><a href="#dateutc-type">DateUTC-Type</a></li>
<li><a href="#title-type">Title-Type</a></li>
<li><a href="#tag-total-parts">Tag Total Parts</a></li>
<li><a href="#tag-part-number">Tag Part Number</a></li>
<li><a href="#tag-part-offset">Tag Part Offset</a></li>
<li><a href="#tag-title">Tag Title</a></li>
<li><a href="#tag-subtitle">Tag Subtitle</a></li>
<li><a href="#tag-url">Tag URL</a></li>
<li><a href="#tag-sortwith">Tag Sort_with</a></li>
<li><a href="#tag-email">Tag Email</a></li>
<li><a href="#tag-address">Tag Address</a></li>
<li><a href="#tag-fax">Tag Fax</a></li>
<li><a href="#tag-phone">Tag Phone</a></li>
<li><a href="#tag-initialkey">Tag Initial_Key</a></li>
<li><a href="#tag-lawrating">Tag Law_Rating</a></li>
<li><a href="#tag-icra">TAG ICRA</a></li>
<li><a href="#tag-datereleased">Tag DATE_RELEASED</a></li>
<li><a href="#tag-daterecorded">Tag DATE_RECORDED</a></li>
<li><a href="#tag-dateencoded">Tag DATE_ENCODED</a></li>
<li><a href="#tag-datetagged">Tag DATE_TAGGED</a></li>
<li><a href="#tag-datedigitized">Tag DATE_DIGITIZED</a></li>
<li><a href="#tag-datewritten">Tag DATE_WRITTEN</a></li>
<li><a href="#tag-datepurchased">Tag DATE_PURCHASED</a></li>
<li><a href="#tag-playcounter">Tag Play_Counter</a></li>
<li><a href="#tag-fps">Tag FPS</a></li>
<li><a href="#tag-bpm">Tag BPM</a></li>
<li><a href="#tag-measure">Tag Measure</a></li>
<li><a href="#tag-tuning">Tag Tuning</a></li>
<li><a href="#tag-replay-gain-gain">Tag Replay Gain (Gain)</a></li>
<li><a href="#tag-replay-gain-peak">Tag Replay Gain (Peak)</a></li>
<li><a href="#tag-identifiers-isrc">Tag (Identifiers) ISRC</a></li>
<li><a href="#tag-identifiers-mcdi">Tag (Identifiers) MCDI</a></li>
<li><a href="#tag-identifiers-isbn">Tag (Identifiers) ISBN</a></li>
<li><a href="#tag-identifiers-barcode">Tag (Identifiers) Barcode</a></li>
<li><a href="#tag-identifiers-catalog-number">Tag (Identifiers) Catalog number</a></li>
<li><a href="#tag-identifiers-label-code">Tag (Identifiers) Label code</a></li>
<li><a href="#tag-identifiers-lccn">Tag (Identifiers) LCCN</a></li>
<li><a href="#tag-commercial-purchase-item">Tag (Commercial) Purchase Item</a></li>
<li><a href="#tag-commercial-purchase-price">Tag (Commercial) Purchase Price</a></li>
<li><a href="#tag-commercial-purchase-currency">Tag (Commercial) Purchase Currency</a></li>
</ul></li>
<li><a href="#ffv1-conformance-checks-draft">FFV1 Conformance Checks (Draft)</a>
<ul>
<li><a href="#missing-header">Missing header</a></li>
<li><a href="#version">version</a></li>
<li><a href="#version-2">version 2</a></li>
<li><a href="#microversion-2">micro_version 2</a></li>
<li><a href="#codertype">coder_type</a></li>
<li><a href="#statetransitiondelta">state_transition_delta</a></li>
<li><a href="#colorspacetype">colorspace_type</a></li>
<li><a href="#bitsperrawsample">bits_per_raw_sample</a></li>
<li><a href="#more-header-tests-to-add">(More header tests to add)</a></li>
<li><a href="#crcparity">crc_parity</a></li>
</ul></li>
<li><a href="#lpcm-conformance-checks-draft">LPCM Conformance Checks (Draft)</a>
<ul>
<li><a href="#formattype">formatType</a></li>
<li><a href="#bitspersample">bitsPerSample</a></li>
<li><a href="#bytespersecond">bytesPerSecond</a></li>
<li><a href="#blockalignment">blockAlignment</a></li>
<li><a href="#channelcount">channelCount</a></li>
<li><a href="#nchannels">nChannels</a></li>
<li><a href="#samplerate">sampleRate</a></li>
</ul></li>
<li><a href="#containerstream-coherency-checks-draft">Container/Stream Coherency Checks (Draft)</a>
<ul>
<li><a href="#aspect-ratio-match">Aspect Ratio Match</a></li>
<li><a href="#width-match">Width Match</a></li>
<li><a href="#height-match">Height Match</a></li>
</ul></li>
</ul>
<!-- toc stop -->
<h2 id="project-introduction">Project Introduction</h2>
<p>The PreForma challenge illuminates and responds to a significant and real obstacle that faces the preservation community today. This report encompasses a snapshot of MediaArea's design plans to create a toolset (tentatively entitled &quot;PreForma MediaInfo&quot;) as the conformance checker, policy checker, reporter, and fixer of a select list of formats.</p>
<p>As preservation workflows have incorporated digital technology, significant amounts of careful research have gone into the selection of file format recommendations, lists of codec specifications, and development of best practices; however, despite the existence of such recommendations, there remains a lack of assessment tools to verify and validate the implementation of such recommendations. A few validation tools (such as mkvalidator) are produced alongside the development of their associated standards; however, most file format specifications are not officially tied to any validation tool and are documented through human-readable narrative without equivalent computer-actionable code. Where a metadata standard may be described in both a data dictionary and a computer-usable XML Schema, file formats standards often lack a computer-usable verification method. The PreForma project recognizes this discrepancy and the resulting long-term impacts on archival communities and seeks to fill in the gaps necessary to provide memory institutions with levels of control to verify, validate, assess and repair digital collections.</p>
<p>MediaArea's approach to this challenge centers on Free Software, modular design, and interoperability and will rely strongly on MediaInfo (an open source MediaArea product) to meet this challenge. MediaInfo is often advised as the first tool to use when a media file is not playable, allowing the user to identify characteristics that would help find an appropriate playback or transcoding tools. MediaInfo’s open licensing and agility in technical metadata reporting have encouraged its integration into several archival repository systems and OAIS workflows to assist archival with technical control of collections.</p>
<p>MediaArea sees community involvement as a key factor of evaluating the success of the project. To encourage this, during the prototype phase MediaArea will perform the development work for command line utilities, graphical user interfaces, and documentation in publicly accessible repositories at github.com. We will set up an online set of project resources such as public access to a corpus of test media, an IRC channel, and a responsive public issue tracker.</p>
<h2 id="introduction-of-featured-formats">Introduction of Featured Formats</h2>
<p>During the development phases MediaArea will focus on one container format, Matroska, and two streams, LPCM and FFV1. The design work of MediaArea will address formats and codecs through a modular architecture so that other formats or codecs may easily be added alongside or after development.</p>
<p>Matroska, FFV1, and LPCM describe very unique concepts of information including:</p>
<ul>
<li>a container format, Matroska</li>
<li>an audio stream, LPCM</li>
<li>a video stream, FFV1</li>
</ul>
<p>These three information concepts will inform distinct user interface and reporting design in order to process these concepts through differing strategies. For instance reporting on the status of 100,000 of video frames within a video recording may be done more efficiently in a different interface as one designed to communicate the hierarchical structure of a file format.</p>
<p>Additionally other formats currently being addressed by PreForma fit within these three conceptual categories; for instance, PDF and TIFF are formats (containers) and JPEG2000 is a video stream. These three concepts affect the design of an overall application shell as conformance information for each category can have its own optimized user interface.</p>
<h3 id="matroska">Matroska</h3>
<p>Matroska is a open-licensed audiovisual container format with extensive and flexible features and an active user community. The format is supported by a set of core utilities for manipulating and assessing Matroska files, such as mkvtoolnix and mkvalidator.</p>
<p>Matroska is based on EBML, Extensible Binary Meta Language. An EBML file is comprised of one of many defined &quot;Elements&quot;. Each element is comprised of an identifier, a value that notes the size of the element's data payload, and the data payload itself. The data payload can either be stored data or more nested elements. The top level elements of Matroska focus on track definition, chapters, attachment management, metadata tags, and encapsulation of audiovisual data. The Matroska element is analogous to QuickTime's atom and AVI's chunk.</p>
<p>Matroska integrates a flexible and semantically comprehensive hierarchical metadata structure as well as digital preservation features such as the ability to provide CRC checksums internally per selected elements.</p>
<h3 id="ffv1">FFV1</h3>
<p>FFV1 is an efficient lossless video stream that is designed in a manner responsive to the requirements of digital preservation. Version 3 of this lossless codec is highly self-descriptive and stores its own information regarding field dominance, aspect ratio, and colorspace so that it is not reliant on a container format to store this information (other streams that rely heavily on its container for technical description often face interoperability challenges).</p>
<p>FFV1 version 3 mandates storage of CRCs in frame headers to allow verification of the encoded data and stores error status messages. FFV1 version 3 is also a very flexible codec allowing adjustments to the encoding process based on different priorities such as size efficiency, data resilience, or encoding speed.</p>
<h3 id="linear-pcm">Linear PCM</h3>
<p>Linear Pulse Code Modulation (LPCM) is a ubiquitous and simple audio stream. PCM audio streams may be comprised of signed or unsigned samples, arranged in little-endian or big-endian arrangements, in any number of audio channels. PCM is very flexible but is not self-descriptive. A raw PCM file can not properly be decoded without knowing the sample encoding, channel count, endianness, bit depth, and sample rate. PCM is typically dependent on its container format (such as WAV) to store sufficient metadata for its decoding.</p>
<p>Because PCM streams contain only audio samples without any codec structure or metadata within the stream, by itself any data could be considered valid PCM and decoded as audio. Determining the conformity or technical health of PCM data requires the context of information provided by its container format.</p>
<h2 id="development-of-a-conformance-checker">Development of a Conformance Checker</h2>
<p>The design of the conformance checker is intended to allow interoperability between the conformance checkers with PreForma's other suppliers so that users may integrate multiple conformance checkers within a single 'shell'. The conformance checker is comprised of four components:</p>
<ul>
<li>implementation checker</li>
<li>policy checker</li>
<li>reporter</li>
<li>metadata fixer</li>
</ul>
<p>The conformance checker developed within the PreForma project must document and associate conformance rules with data types (such as formats, streams, frames, etc) and authorities (such as specifications, community practices, or the local rules of a memory institution). MediaArea recommends that communication between the conformance checker and the shell be performed through an API designed via collaboration of the PreForma suppliers.</p>
<h3 id="implementation-checker">Implementation Checker</h3>
<p>Each implementation checker (for Matroska, FFV1, and LPCM) should assess compliance and/or deviation between files and a series of conformance checks which are written by dissecting rules and logic from each format's underlying specifications, including rules that may be deduced or inferred from a close reading of the specification or related authoritative documentation. MediaArea has drafted registries of conformance rules within the PreForma design phase and plans to collaborate with each format's specification communities to refine them. See the <a href="#conformance-check-registry">Conformance Check Registry</a>.</p>
<p>For streams such as FFV1 some implementation checks may be performed frame-by-frame to discover frame-specific issues such as CRC mismatches, invalid frame headers, or incomplete frames. Frame-by-frame implementation assessments will naturally be time consuming as nearly the entire file must be read. In order to accommodate user's various time priorities the implementation checker will use options to perform implementation checks on the first few frames of a stream, a percentage of the frames, or all of the frames.</p>
<p>MediaArea has drafted a <a href="#conformance-check-registry">registry</a> of metadata elements to be used in described an implementation conformance check, which provides unique identifier, the scope, and underlying rationale and authority for the check. Code created to preform implementation checks will be internally documented with references to conformance check's unique identifiers, so that MediaArea may create resources for each conformance check that relate the identity of the check, its underlying authority, sample files, and associated code.</p>
<h3 id="policy-checker">Policy Checker</h3>
<p>For each format addressed through a conformance checker MediaArea will create a vocabulary list of technical metadata and contextual descriptions. Additionally MediaArea will define a list of operators to enable various comparators between the actual technical metadata and the user-provided expected metadata. Such defined language will allow users to make policy check expressions such as:</p>
<ul>
<li>FFV1.gop_size MUST_EQUAL &quot;1&quot;</li>
<li>FFV1.slice_crc MUST_BE_ENABLED</li>
<li>FFV1.version GREATER_THAN_OR_EQUAL &quot;3&quot;</li>
<li>MKV.tag.BARCODE MUST_START_WITH &quot;ABC&quot;</li>
<li>MKV.tag.DATE_DIGITZED IS_BEFORE &quot;2014-01-01&quot;</li>
<li>MKV.tag.ISBN MATCHES_REGEX &quot;(?=[-0-9xX ]{13}<span class="math">)(? : [0 − 9] + [ − ])3[0 − 9] * [<em>x</em><em>X</em>0 − 9]</span>&quot;</li>
</ul>
<p>MediaArea proposes that PreForma suppliers collaborate to define a common expression for sets of policy checks via an XML Schema, associated data dictionary, and vocabulary of comparative operators. The collaboration would include agreement and definition on the operators (&quot;Greater Than&quot;, &quot;Starts With&quot;, etc) of the policy checks and attempts to normalize technical metadata between common formats where they have overlapping concepts. Each policy checker would produce a vocabulary of technical metadata specific to its format for policies to be checked against as well as inclusion within an API so that the shell can access the possible operators of any enabled conformance checker.</p>
<p>MediaArea will provide sample sets of policy checks based on interviews with memory institutions and community practice.</p>
<h3 id="reporter">Reporter</h3>
<p>MediaArea proposes that PreForma suppliers collaborate to create a common XML Schema to define the expression of PreForma reporting (referred to here as &quot;PreFormaXML&quot;). The schema should define methods to express technical metadata and relates checks to formats/streams (including components of formats and streams such as frames or attachments). The XML Schema should encompass not only information about the files being assessed but also the conditions and context of the particular use (which shell was used, with what policy sets, at what verbosity, etc). The XML Schema should be supported by a data dictionary that is also collaboratively written by PreForma suppliers. MediaArea anticipates that the implementations and features performed upon the basis of a common XML Schema may vary from supplier to supplier or per conformance checker, but that adherence to a common schema is essential to interoperability and consistent user experience amongst conformance checkers.</p>
<p>The PreFormaXML schema should accommodate the expression of results from multiple conformance checkers upon a single file. For instance a Matroska file that contains a JPEG2000 stream, a FFV1 stream, and a LPCM stream should be able to express one XML element about the file with sub-elements about each conformity check to reduce redundancy.</p>
<p>MediaArea plans to include these features commonly within MKV, FFV1, and LPCM reporters:</p>
<ul>
<li>Export of a standardized PreFormaXML</li>
<li>Export PreFormaXML with gzip compression (to reduce the impact of large and highly verbose XML files)</li>
<li>Export of the same data within a semantically equivalent JSON format</li>
<li>Other functions based on PreFormaXML (such as generation of PDF formats or summarization of multiple collections of PreFormaXML) will happen within the &quot;Shell&quot; component</li>
</ul>
<h3 id="fixer">Fixer</h3>
<p>MediaArea will produce a fixer that allows for editing the file. Enabling this function will be performed with a substantial amount of caution as in some cases a user could use it to change a file considered a preservation master. The fixer will support assessing a file first to determine the risk of editing a structurally unhealthy file and provide suitable levels of warning to the user.</p>
<p>The metadata fixer shall support both direct editing on the input file (with warning) or producing a new output file as a copy that the metadata change as requested.</p>
<p>The metadata fixer will support comprehensive logging of the change and offer options to log the performance of the edit itself with the file if it has a means to accommodate it (such as Matroska).</p>
<p>In addition to metadata manipulation the fixer will accommodate structural fixes to improve the structural health of the file, such as repairing Matroska Element order if ordered incorrectly, or validating or adding Matroska CRC Elements at selected levels, or fixing EBML structures of truncated Matroska files.</p>
<p>Substantial care should be exercised to ensure that the Conformance Checker properly associates risk, user warnings, and assessments with each fix allowed. In order to allow a fix the software must properly understand and classify what may be fixed and be aware of how the result may be an improvement. Adjustments directly to a preservation file must be handled programmatically with great caution with diligent levels of information provided to the user.</p>
<p>An example of a fix that could be enabled in the RIFF format could be verifying that any odd-byte length chunk is properly followed by a null-filled byte. Odd-byte length chunks that do not adhere to this rule cause substantial interoperability issues with data in any chunk following the odd-byte length one (this is particularly found in 24 bit mono WAV files). If the odd-byte length chunk is not followed by a null-filled padding byte, then most typically the next chunk starts where the padding byte is and the padding byte may be inserted so that other following chunks increase their offset by one byte. This scenario can be verified by testing chunk id and size declaration of all following bytes so that the software may know beforehand if the fix (inserting the null-filled padding byte) will succeed in correcting the RIFF chunk structure’s adherence to its specification.</p>
<p>Fixes for Matroska files could include fixing metadata tags that don’t include a SimpleTag element or re-clustering frames if a cluster does not start on a keyframe.</p>
<p>Because many files focused on with FFV1 and Matroska conformance checkers will be quite large, MediaArea plans to provide options to either rewrite the original file with the check or edit the file in place so that the file is only changed according to the fix that is request. With the latter option is the user is 'fixing' the metadata in a 50 gigabyte Matroska file only the last few megabytes of the Matroska tagging element may be rewritten without a requirement to rewrite the non tagging elements at the beginning of the file (MediaArea deployed a similar feature within BWF MetaEdit).</p>
<h3 id="shell">Shell</h3>
<p>The shell will coordinate the actions of the implementation checker, policy checker, reporter and fixer. As PreForma seeks that the shell developed by each supplier supports each supplier's conformance checker(s), MediaArea encourages all suppliers to work collaboratively to negotiate API documentation to support not only our own interoperability but to support third-party development of additional conformance checkers to utilize the produced shells.</p>
<p>The development of the shell will strive to facilitate an intuitive and informed use by memory institutions at both expert and non-expert levels. The shell will include substantial internal documentation that mimics the online resources that we will provide so that the shell and conformance checker function well offline.</p>
<p>MediaArea will implement a scheduling service within the shell so that large tasks may be performed overnight or according to a defined schedule. MediaArea will enable the Shell to load queues of files from lists of filepaths or URLs. Because of the size of data involved in audiovisual checkers MediaArea will give priority to designing the shell and conformance checker to perform multi-threaded and optimized processing.</p>
<h4 id="implementation-checker-shell">Implementation Checker (Shell)</h4>
<p>The shell produced will support all functions and requirements of the implementation checker as described as an independent utility and also support:</p>
<ul>
<li>Allow the user to open one or many files at a time.</li>
<li>Allow the user to queue simultaneous or consecutive file analysis.</li>
<li>Allow the user to select how comprehensive or verbose an implementation check may be (for instance, samples frames or all frames of video).</li>
<li>Enable the user to select sections of conformance checks or sets of conformance checks that they may wish to ignore.</li>
<li>Enable the user to associate certain actions or warnings with the occurence of particular checks.</li>
<li>Provide feedback and status information live during the file analysis.</li>
<li>(For Matroska) Present a user interface that displays the hierarchical EBML structure of the file with the corresponding policy outcome for each policy check.</li>
<li>(For FFV1) Present a user interface that displays frame metadata in a table and enable the user to filter the presentation of frame metadata according to warnings or coherency events (for example, discontinuous aspect ratio).</li>
</ul>
<h4 id="policy-checker-shell">Policy Checker (Shell)</h4>
<p>The shell produced will support all functions and requirements of the policy checker as described as an independent utility and also support:</p>
<ul>
<li>Allow PreForma-supported technical metadata vocabularies to be imported or synchronized against an online registry.</li>
<li>Provide an interface for the user to import, create, edit, or export a valid set of policy checks.</li>
<li>Implement selected set of policy checks on all open files or selected files.</li>
<li>Present the outcome of policy checks in a manner that allows comparison and sorting of the policy status of many files.</li>
<li>Allows particular sets of policy to be associated with particular sets of files, based on file identification or naming patterns.</li>
<li>(For Matroska) Present a user interface that displays the hierarchical EBML structure of the file with the corresponding policy outcome for each policy check.</li>
</ul>
<h4 id="reporter-shell">Reporter (Shell)</h4>
<p>The shell produced will support all functions and requirements of the reporter as described as an independent utility and also support:</p>
<ul>
<li>Export of the PreFormaXML data at user-selected verbosity levels in a PDF format, which data visualizations supplied where helpful.</li>
<li>Ability to read a collection of PreForma XML documents and provide a comprehensive summary and technical statistics of a collection to allow for prioritization, comparison, and planning.</li>
</ul>
<h4 id="fixer-shell">Fixer (Shell)</h4>
<p>The shell produced will support all functions and requirements of the reporter as described as an independent utility and also support:</p>
<ul>
<li>Allow for single file or batch editing of file format metadata.</li>
<li>Allow for selected metadata to be copied from one file to another or from one file to all other open files.</li>
<li>Allow for file format metadata to be exported and imported to CSV or XML to enable metadata manipulation in other programs to then be imported back into the Shell and applied to the associated files.</li>
<li>(For Matroska) Present a user interface that displays the hierarchical EBML structure of the file and allows the user to create, edit, or remove (with warning) any EBML element and display the associated policy or implementation check that corresponds with such actions.</li>
</ul>
<h4 id="interfaces">Interfaces</h4>
<p>The selected formats (MKV, FFV1, and LPCM) represent substantially distinct concepts: container, video, and audio. The optimization of a conformance checker should utilize distinct interfaces to address the conformance issues of these formats, but allow the resulting information to be summarized together.</p>
<p>Assessment of file conformance can be displayed via a graphical user interface or a command line interface.</p>
<div class="figure">
<img src="./Design/GUI/CheckerMockup.png" alt="GUI conformance output sample" />
<p class="caption">GUI conformance output sample</p>
</div>
<div class="figure">
<img src="./Design/CLI/CLIOutputMockup_Checker.png" alt="CLI conformance output sample" />
<p class="caption">CLI conformance output sample</p>
</div>
<p>An interface for assessing conformance of FFV1 video could enable review of the decoded FFV1 frames (via a plugin) in association with conformance data so that inconsistencies or conformity issues may be reviewed in association of the presentation issues it may cause.</p>
<div class="figure">
<img src="./Design/GUI/FrameViewMockup.png" alt="frame view mockup" />
<p class="caption">frame view mockup</p>
</div>
<p>MediaArea proposes an interface to present conformity issues for audio and video streams (FFV1 and LPCM) on a timeline, so that conformance events, such as error concealment or crc validation issues may be reviewed effectively according to presentation, parent Matroska block element, or video frame.</p>
<div class="figure">
<img src="./Design/GUI/FrameScrollingMockup.png" alt="frame scrolling mockup" />
<p class="caption">frame scrolling mockup</p>
</div>
<p>For deep analysis, a distinct interface that allows for its hierarchical structure to be reviewed and navigated. The presentation should allow for MKV and FFV1 elements to be expanded, condensed, or filtered according to element id or associated conformity issues.</p>
<div class="figure">
<img src="./Design/GUI/MediaInfoWindows.png" alt="MediaInfo Windows" />
<p class="caption">MediaInfo Windows</p>
</div>
<p>A summary of the file properties can also be displayed via a command line interface for quick reference or export.</p>
<div class="figure">
<img src="./Design/CLI/CLIOutputMockup.png" alt="CLI output sample" />
<p class="caption">CLI output sample</p>
</div>
<h3 id="optimization-for-large-file-size">Optimization for Large File Size</h3>
<p>Design of a conformance checker and shell should be considerate of the large file sizes associated with video. For instance, an hour-long PAL FFV1 file (which contains 90,000 frames per hour) should provide efficient access if cases where one FFV1 frame contains a CRC validation error.</p>
<p>A video conformance checker should be well optimized and multi-threaded to allow for multiple simultaneous processes on video files. Additionally the conformance checker should allow a file to be reviewed even as it is being processed by the conformance checker and allow assessment of files even as they are being written.</p>
<h3 id="focus-on-fixity">Focus on Fixity</h3>
<p>Both FFV1 and Matroska provide fixity features that serve the objectives of digital preservation by allow data to be independently validated without the requirement of managing an external checksumming process. FFV1 version 3 mandates CRCs on each frame. Matroska documents methods to embed checksums in Matroska elements to allow for future validation of any content.</p>
<p>Although the Matroska specification states that &quot;All level 1 elements should include a CRC-32&quot; this is not the practice of most Matroska multiplexers. As part of the Fixer aspect of this project, MediaArea proposes to develop a conformance checker that allows users to add CRC-32 to selected elements.</p>
<p>The advantages of embedded fixity in preservation media files are significant. The use of traditional external checksums does not scale fairly for audiovisual files, because since the file sizes are larger than non-audiovisual files there are less checksums per byte, which creates challenges in addressing corruption. By utilizing many checksums to protect smaller amounts of data within a preservation file format, the impact of any corruption may be associated to a much smaller digital area than the entire file (as the case with most external checksum workflows).</p>
<h3 id="reference-and-test-files">Reference and Test Files</h3>
<p>MediaArea anticipates creating a large library of reference files that highlight many of the issues documented in our conformance check registry. Such files will be release under PreForma's selected open licenses. Additionally we will curate references to relevant files in other reference libraries:</p>
<ul>
<li>Selections from http://samples.ffmpeg.org</li>
<li>PDF/A files buggy files: http://www.pdfa.org/2011/08/isartor-test-suite/</li>
<li>JPEG 2000 files: https://github.com/openplanets/jpylyzer-test-files</li>
<li>Matroska buggy files: Homemade + request to Matroska mailing list</li>
<li>FFV1 buggy files: Homemade + request to FFmpeg mailing list</li>
<li>LPCM files: Homemade</li>
</ul>
<h2 id="intended-behavior-by-use-case">Intended Behavior by Use Case</h2>
<h3 id="overview">Overview</h3>
<p>The following use cases are presented to describe intended behaviors of the conformance checker:</p>
<h4 id="conformance-checking-in-an-open-archival-information-system-oais">Conformance Checking in an Open Archival Information System (OAIS)</h4>
<p>MediaArea recognizes the recommended practices described in the Open Archival Information System (OAIS) reference model, intended to provide long term preservation of digital information (CCSDS 650.0.-M-2). The stated conformance checker should be developed to address all relevant areas of activity within the OAIS model, as well as minimize and/or mitigate any incompatibility with additional OAIS-related standards.</p>
<p>Conformance checking plays a major role in OAIS-type services through the Information Packages created by Producers, maintained by Management in the Archive, and later, retrieved and put to use by Consumers and/or Designated Community. To take an example of such a service model, the Ingest Functional Entity of OAIS, or Ingest, performs quality assurance on incoming Submission Information Packages (SIPs). The conformance checker, as both an implementation and policy checker, would serve as the primary tool to verify SIPs and other submitted Preservation Description Information (PDI), with rules and specifications defined by the Archive. As Archival Information Packages (AIPs) are generated for the Archive, a conformance checker would map all Transformations through the collection of associated Representation, Content, and PDI information. And upon a dissemination request, reports created by the conformance checker would be used as descriptive information needed for the processing of objects for the Dissemination Information Package (DIP).</p>
<p>The conformance checker in effect resembles a complex Representation Net in the OAIS Archive, providing information needed to adequately understand the proper playback of the associated data object.</p>
<h3 id="conformance-checking-at-digitization-time">Conformance Checking at Digitization Time</h3>
<h4 id="verification-of-digitization-policy">Verification of Digitization Policy</h4>
<p>Archival digitization workflows are generally highly defined and consistent so that various analog source objects are associated with particularly digitization requirements. Generally digitization specifications are selected in order to reduce alterations to the significant characteristics of the analog source material. Example of such digitization scenarios may be:</p>
<ul>
<li>A PAL Betacam SX tape is digitized to a Matroska/FFV1 file at PAL specifications with YUV 4:2:2 8 bit video and 4 channels of 24 bit LPCM audio</li>
<li>A NTSC U-Matic tape is digitized to a Matroska/FFV1 file at NTSC specifications with YUV 4:2:2 10 bit video and 2 channels of 24 bit LPCM audio</li>
<li>A 1/4&quot; audio reel is digitized to a 2 channel 96000 Hz, 24 bit audio LPCM file</li>
<li>A CD-R is ripped to a 44100 Hz, 16 bit, 2 channel LPCM file</li>
<li>A DAT tape is ripped to either a 32000, 44100, or 48000 Hz 16 bit file</li>
</ul>
<p>Such digitization requirements may be expressed into a policy checker set through the shell or policy checker to verify that the results of digitization are consistent with the archive's specifications. This includes both sets of technical metadata and specification as well as anticipated embedded descriptive, preservation, or administrative metadata.</p>
<h4 id="verification-of-lossless-digitization">Verification of Lossless Digitization</h4>
<p>Until recently audiovisual digitization required a fairly inflexible set of hardware requirements and extremely limited possibilities for an open source approach to video digitization. Due to the bandwidth and processing requirements for the digitization of standard definition video required the installation of PCI cards and often the use of hardware encoders that were designed to encode video as fast as the video was being received to codecs like MPEG2 or JPEG2000. With modern connectivity options such as USB 3 and Thunderbolt it is easier to add video digitization capabilities to modern computers and more archive are performing this internally. Additionally modern computer processers can now transcode video losslessly in software from a video input without the need to rely on proprietary hardware-based encoders. Open source solutions such as DVA Profession, bmdcapture, and FFmpeg along with the open provision of video digitization software development kits, such as the Blackmagic SDK are facilitating new open development projects for archival video digitization.</p>
<p>As vendors and memory institutions are increasing considering and implementing digitization workflows that encode video directly to lossless codecs without the use of an intermediate file-based uncompressed audiovisual data, it is increasingly crucial to assess this lossless file soon after creation to detect any flaws within the digitization process.</p>
<p>For those digitizing video through processes that incorporate libav or FFmpeg such as bmdcapture of FFmpeg's decklink integration, a separate framemd5 may be written alongside the encoded ffv1 data. The resulting ffv1 data may then be verified against the framemd5 to verify that the correct bits were written to disk.</p>
<p>An inspiration for the use of framemd5 reports within a digitization workflow is inspired by the verify option with the flac utility available at http://flac.sourceforge.net/. The ‘-V’ or –verify command is used to decode the encoded stream in parallel to the encoding process to double-check the losslessness of the transcoding. With this method any discrepancy between what data is read and transcoded versus what data is written to disk could be identified in a subsequent verification process. The use of framemd5 data within a digitization workflow enables verification in cases where an option similar to flac's --verify argument isn't available.</p>
<h4 id="assessment-of-vendorproducer-deliverables">Assessment of Vendor/Producer Deliverables</h4>
<p>For archives that clarify specifications for audiovisual digitization projects, the conformance checker should facilitate a workflow for the archivist to express those specifications and verify received material against them. In addition to testing for the presence and order of required metadata tags the conformance checker should also be able to verify that they adhere to particular patterns as expressed through regular expressions.</p>
<p>The conformance checker should be able to verify that files were transferred completely and that the delivered material does not contain any partial files from an incomplete or aborted transfer.</p>
<p>The implementation and policy checker's reporting on deliverables will enable the user to provide specific feedback to the vendor or producer to create files with greater compliance or coherency.</p>
<h3 id="conformance-checking-at-migration-time">Conformance Checking at Migration Time</h3>
<h4 id="fixity-verification">Fixity Verification</h4>
<p>Migration of large amounts of data introduces risk for digital corruption and/or sector loss. Ongoing data migration is essential for digital preservation but can require a time consuming verification process. Both Matroska and FFV1 contain features for internal fixity so that a file copied from point A to point B can be assessed at point B alone to verify the data integrity of the frames. MediaArea recommends using Matroska's CRC features for use in digital preservation to allow for fixity verification to be more stable and achievable with the file alone without necessarily depending on external databases or records of checksums.</p>
<h4 id="obsolescence-monitoring">Obsolescence Monitoring</h4>
<p>Migration is typically an ideal time to perform obsolescence monitoring and preparing actions to limit complications in obsolescence status. Just as memory institutions must maintain the technology that their physical collections are dependent upon, this is equally true for digital collections. As this maintenance becomes more complex, costly, or unlikely archives will typically reformat material (with as little compromise to the content and characteristics of the source as possible) to a format that has more sustainable characteristics.</p>
<p>To counteract arising obsolescence challenges it is critical to have access to thorough sets of technical metadata in order to associate certain codecs, formats, or technologies with sustainability risks or to identify what one format should be superseded by another in a particular digital preservation. For instance an institution that utilized FFV1 version 0 as a lossless preservation codec may wish to identify such files to reformat them to FFV1 version 3 (now that it is non-experimental) in order to take advantage of version 3's additional advantages. In our research one archive found that some digitized material received from a vendor was missing technical metadata about field dominance and had to identify exactly which materials were affected to order to rectify the issue.</p>
<h2 id="open-source-ecosystem">Open Source Ecosystem</h2>
<h3 id="cross-platform-support">Cross Platform Support</h3>
<p>MediaArea excels in open source development for cross-platform support and chooses development frameworks and tools that enable cross-platform support to be maintained. Several applications developed by MediaArea such as QCTools, MediaInfo, and DVAnalyzer are available under nearly all major operating systems. To achieve this we will program in C++ and use the Qt application framework.</p>
<p>For an impression of MediaArea's focus on cross platform usability please see our download pages:</p>
<ul>
<li>http://mediaarea.net/en/MediaInfo/Download</li>
<li>http://bavc.org/qctools-downloads</li>
</ul>
<p>MediaInfo is also officially provided by multiple open source distributions:</p>
<ul>
<li>Debian: https://packages.debian.org/wheezy/mediainfo</li>
<li>Ubuntu: http://packages.ubuntu.com/utopic/mediainfo</li>
<li>RedHat / Fedora: https://apps.fedoraproject.org/packages/mediainfo</li>
<li>OpenSuse: http://packman.links2linux.org/package/mediainfo</li>
<li>Arch Linux: https://www.archlinux.org/packages/?q=mediainfo</li>
<li>FreeBSD: http://www.freshports.org/multimedia/mediainfo/</li>
<li>Homebrew (open source software package management system for Mac): http://brewformulas.org/MediaInfo</li>
</ul>
<h3 id="online-resources">Online Resources</h3>
<p>MediaArea will utilize GitHub as a social and development center for PreForma MediaInfo development and uses GitHub's issue tracker and wiki features alongside development.</p>
<p>For communication MediaArea will establish public mailing lists and an IRC channel for foster support and involvement from memory institutions.</p>
<p>MediaArea will solicit, create, and accept test files and reference files that highlight various features of the conformance checker and illustrate likely preservation issues that may occur within the selected formats.</p>
<h3 id="community-interviews">Community Interviews</h3>
<p>In December 2014, MediaArea started conducting interviews with FFV1, Matroska, and LPCM stakeholders in order to collect feedback and insights from the archives community. To date, interviews have been conducted with:</p>
<ul>
<li>Hermann Lewetz, Peter Bubestinger; Österreichische Mediathek</li>
<li>Ian Henderson; UK National Archives</li>
<li>Christophe Kummer; NOA</li>
<li>George Blood; George Blood, L.P.</li>
</ul>
<p>Notes and partial transcripts (in English) from the interviews are available in the MediaInfo PreForma GitHub repository. Public release of interviews is pending complete transcriptions and review of transcriptions by all participants in order to ensure accuracy and compliance with Creative Commons CC-BY 4.0. The interviewees' feedback will help inform MediaArea's approach to development in all areas, and especially reinforced our plans to standardize the FFV1 specification through an open source standards organization</p>
<h3 id="advance-improvement-of-standard-specification">Advance Improvement of Standard Specification</h3>
<h4 id="ffv1-specification">FFV1 Specification</h4>
<p>Efforts to create an FFV1 specification began in April 2012, continuing through the August 2013 release of FFV1 version 3. Currently the specification remains in development at http://github.com/ffmpeg/ffv1. Ideally a specification should fully inform the development of a decoder or parser without the need to reference existing implementations (such as the ffv1 implementations within ffmpeg and libav); however MediaArea's initial research and prototyping efforts with FFV1 found the current specification insufficient to create a decoder. As a result MediaArea utilized ffmpeg’s FFV1 implementation to fully interpret the specification. Several threads on the ffmpeg-devel and libav-devel listserv reference discussions about the development of the FFV1 specification and consideration of efforts to standardize the specification through a standards organization, such as IETF (Internet Engineering Task Force) <a href="http://www.ietf.org/">1</a>.</p>
<p>In consideration of FFV1’s utilization within preservation contexts, the standardization of the codec through an open standards organization would better establish FFV1 as a trustworthy, stable, and documented option. In MediaArea's interviews with FFV1 adopters, interviewees noted that FFV1's current status proved problematic in gaining organizational buy-in for adoption of FFV1. Additionally, standardization of FFV1 would increase awareness of and interest in FFV1. This increased visibility is vital to engaging an overly cautious archives community. At the moment FFV1 can be seen at a tipping point in its use within preservation context. Its speed, accessibility, and digital preservation features make it an increasingly attractive option for lossless video encoding that can be found in more and more large scale projects; the standardization of FFV1 through an open standards organization would be of broad interest to digital preservation communities and facilitate greater accessibility of lossless encoding options that are both efficient and standardized.</p>
<p>MediaArea proposes working closely with the lead authors of the FFV1 specification in order to update the current FFV1 specification to increase its self-reliance and clarity. Development of the FFV1 specification early within the PreForma project will generate substantial feedback to the authors of the specification which could then be offered through the specification’s github page via pull requests or the issue tracker. MediaArea proposes at a later stage of development that the Preforma project serve as a catalyst to organize, facilitate, and sponsor the IETF standardization process for FFV1.</p>
<p>Considering the two-year timeline of the PreForma project and usual pace of IETF standardization projects, we propose at least submitting FFV1 as an Independent Submission to IETF that could provide workable timeline, encourage a detailed review process, and assign a formal RFC number to the specification.</p>
<h4 id="matroska-specification">Matroska Specification</h4>
<p>Both the Matroska specification and its underlying specification for EBML are at mature and stable stage with thorough documentation and existing validators, but several efforts of the PreForma project can serve as contributions to this specifications. The underlying EBML specification <a href="http://matroska.org/technical/specs/rfc/index.html">2</a> has already been drafted into RFC format but is has not yet been submitted to IETF as an Independent Submission or otherwise. MediaArea recommends that PreForma play a similar catalyst role for further standardization with Matroska as well, helping enable the refinement of the current RFC draft and coordinating an IETF process.</p>
<p>Matroska has a detailed metadata specification at http://www.matroska.org/technical/specs/tagging/index.html. Each tag has an official name and description while provides rules and recommendations for use. Many of these tags could be associated with validation rules, such as expressed by regular expression to assure that the content of the tag conforms to expectations. For instance tags such as URL, EMAIL, or ISBN have specific allowable patterns for what may be contained. As part of build a conformance tool for Matroska, MediaArea will generate conformance tests for individual tags and these tests may be contributed back to the Matroska specification in a list of regex values, an XML schematron file, or other acceptable contribution method.</p>
<h4 id="other-suggested-improvements-or-contributions-to-standard-specifications">Other Suggested Improvements or Contributions to Standard Specifications</h4>
<ul>
<li>Register an official mime type via IETF for Matroska.</li>
<li>Register dedicated FFV1 codecid with Matroska (current use is via fourcc).</li>
<li>Proposal of a tagging extension to Matroska based on the requirements of the digital preservation community.</li>
<li>Feedback for features and functions of FFV1 version 4, which is currently under development.</li>
<li>Creation of metadata translators to convert common descriptive metadata formats within memory institution. For instance convert EBUCore into the XML representation of the Matroska tagging specification so that such metadata may be easily imported and exported between EBUCore and Matroska.</li>
</ul>
<h3 id="sustainable-open-source-business-ecosystem">Sustainable Open Source Business Ecosystem</h3>
<p>MediaArea has long been an open source native and has an open source business model based on sponsored support (bug correction and feature requests).</p>
<p>MediaArea's long term goal is to merge previous open source standalone products designed specifically for broadcasting and memory institutions into its flagship product, MediaInfo. These products include the WAV conformance checker, professional metadata editor and fixer BWF MetaEdit; the AVI conformance checker, professional metadata editor and fixer AVI MetaEdit; and the baseband analyzer for quality assurance, QCTools. Each piece of aforementioned software, designed by MediaArea, has a strong focus on individual areas of digital preservation based on the specific sponsor’s needs. Thanks to our discussions with memory institutions, we strongly believe that an integrated environment for conformance checking is sorely needed in the field. By sponsoring the Matroska/FFV1/LPCM + shell/Implementation Checker/Policy Checker/Reporter/Metadata fixer parts of this project, Preforma plays a major role in the creation of a fully integrated and open source conformance checker.</p>
<p>MediaArea plans to build this stable, integrated solution over the course of the Preforma project phase, which will include the current team investigations of Matroska, FFV1, and LPCM, as well as other Preforma investigations such as TIFF and JPEG-2000. This will ensure that proper feedback from Preforma developers and stakeholders is provided in a meaningful timeframe. After the Preforma project is completed, MediaArea anticipates offering access to an integrated solution in two ways: as a ready-to-use environment with a subscription business model (SaaS), and as a ready-to-download version of the integrated solution. This is based on MediaArea’s future business model, which consists of a combination of subscriptions and paid punctual support, such as bug corrections and new feature requests. With this long term business model approach in mind, MediaArea will be able to continue offering a Preforma-specific version, free of non-Preforma related layers, as a subset of our own integrated solution.</p>
<h1 id="architectural-layers">Architectural Layers</h1>
<div class="figure">
<img src="./SoftwareArchitectureLayers.png" alt="software architecture layers" />
<p class="caption">software architecture layers</p>
</div>
<p>The design of the conformance checker portion of the PreForma MediaInfo application will be comprised of several layers which will communicate via a Hypervisor. The layers shall include:</p>
<ul>
<li>Transport Layer</li>
<li>Container Implementation (Conformance Check)</li>
<li>Container Demuxer</li>
<li>Stream Implementation (Conformance Check)</li>
<li>Stream Decoding (through plugin)</li>
<li>Stream/Container Coherency Check</li>
<li>Policy Check</li>
<li>Baseband Analysis (through plugin)</li>
<li>Data Aggregation</li>
<li>Playback and Playback Analysis (through plugin)</li>
<li>Human Interface</li>
</ul>
<p>Note that the PreForma tender does not require decoding or subsequent baseband analysis or playback; however, from our experience in conformance checker design with DV Analyzer and QCTools and through discovery interviews, we've found that users are quick to require some form of playback in order to facilitate decision-making, response, and strategies for fixing. For instance if the conformance checker warns that the Matroska container and FFV1 codec note contradictory aspect ratios or a single FFV1 frame registers a CRC mismatch it is intuitive that the user would need to decode the video to determine which aspect ratio is correct or to assess the impact of the CRC mismatch. These layers can be supporting by designing a conformance checker and shell that is prepared to utilize FFmpeg as an optional plugin to enable additional analysis features and playback. Our overall proposal is not dependent on supporting an FFmpeg plugin but we believe that preparing a conformance checker that could support FFmpeg as an optional plugin could create a more intuitive, comprehensive, and informed user experience.</p>
<p>We propose incorporating several compatible utilities into PreForma MediaInfo to extend functionality and add immediate convenience for users. Each component is built as a plugin and can be replaced by a third party tool.</p>
<h2 id="transport-layer">Transport layer</h2>
<h3 id="preforma-mediainfo-file-on-disk-or-direct-memory-mapping">Preforma MediaInfo: File on disk or direct memory mapping</h3>
<p>Preforma MediaInfo natively offers a file API for each operating system to enable direct file access, including files that are still in the process or being written. The inclusion of MediaInfo also offers features for direct memory mapping which will be useful for third-party development or plugins.</p>
<h3 id="plugin-integration-proof-of-concept-libcurl">Plugin integration proof of concept: libcURL</h3>
<p>libcURL is licensed under an MIT license that is compatible with both GPLv3+ and MPLv2+. curl offers extensive support for transferring data through many protocols. By incorporating curl into PreForma MediaInfo the tool will be able to assess files that may be accessible online by providing a URL (or list of URLs) in place of a filepath.</p>
<p>Since we will be generating a library of reference and sample files that will include large audiovisual files, users will be able to assess reference files without necessarily needing to download them.</p>
<p>Used as a proof of concept of plugin integration: HTTP/HTTPS/FTP/FTPS support via MediaInfo open source GPLv3+/MPL2+ and libcurl (MIT license, compatible with GPLv3+/MPL2+)</p>
<h2 id="containerwrapper-implementation-checker">Container/Wrapper implementation checker</h2>
<h3 id="preforma-mediainfo-matroska-checker">Preforma MediaInfo: Matroska checker</h3>
<h3 id="plugin-integration-proof-of-concept-mkvalidator">Plugin integration proof of concept: mkvalidator</h3>
<p>mkvalidator is a basic and no more maintained Matroska checker (BSD license, compatible with GPLv3+/MPL2+) which will be used mostly for demonstration of the plugin integration.</p>
<h2 id="containerwrapper-demultiplexing">Container/Wrapper Demultiplexing</h2>
<h3 id="preforma-mediainfo-1">Preforma MediaInfo</h3>
<p>PreForma MediaInfo will utilize MediaInfo's existing demuxing libraries which will allow for PreForma's selected video codecs, FFV1 and JPEG2000, to be assessed from within many formats founds within archives although these container formats themselves aren't the focus of the current PreForma project. Through discovery interviews with archives and vendors we have found FFV1's archival implementations to use a variety of container formats such as AVI and QuickTime as well as Matroska. In order to allow developed tools to support FFV1 even if not contained within Matroska, PreForma MediaInfo will support the following formats for demuxing (though not necessarily for conformity (yet)):</p>
<ul>
<li>MXF (commonly found within memory institutions)</li>
<li>MOV/MP4 (often found containing FFV1, JPEG2000, and LPCM)</li>
<li>DV (video stream format which uses LPCM)</li>
<li>AVI (used with FFV1 by DV Profession, NOA, Austria Mediathek)</li>
<li>WAV (a common container for LPCM)</li>
</ul>
<p>By supporting the demultiplexing of these formats through MediaInfo, the developed tools will be applicable to a wide variety of files that contain PreForma's selected codecs: FFV1, JPEG2000, and LPCM. This demultiplexing support can be available through MediaInfo's existing libraries in a manner that is compatible with PreForma's licensing requirements.</p>
<h3 id="plugin-integration-proof-of-concept-ffmpeg">Plugin integration proof of concept: FFmpeg</h3>
<p>FFmpeg is one of the most ubitiquous, comprehensive, and open tools for demultiplexing and decoding audiovisual data; however, although FFmpeg's GPLv2+ license is compatible with PreForma's selected GPLv3+ license, it is not compatible with PreForma's other selected license, MPLv2+. As the PreForma conformance project evolves to support additional formats and codecs through plugins the use of FFmpeg's features are expected to becoming more and more appealing. For instance the integration of FFmpeg can provide integration of very comprehensive decoding and demultiplexing support beyond what can be easily provided with MediaInfo's demuxing libraries. FFmpeg's libavfilter library also provides access to waveform monitoring, vectorscope, audio meters, and other essential audiovisual inspection tools.</p>
<p>Although PreForma MediaInfo won't incorporate FFmpeg in order to comply with the MPLv2+ licensing requirement, we would like to design plugin support for FFmpeg. In this way a memory institution using PreForma MediaInfo could separately download FFmpeg and link the two together to enable additional tools such as:</p>
<ul>
<li>Video Waveform Monitor</li>
<li>Vectorscope</li>
<li>Ability to inspect luminance and chroma planes separately</li>
<li>Audio Meters</li>
</ul>
<p>We anticipate that the implementation of FFmpeg plugin support will substantially simplify the development of other plugins for broader codec and format support so that an entire decoder or demuxer does not need to be written from scratch in order to extend support.</p>
<h2 id="streamessence-implementation-checker">Stream/Essence implementation checker</h2>
<h3 id="preforma-mediainfo-2">Preforma MediaInfo:</h3>
<ul>
<li>FFV1</li>
<li>PCM (including D-10 Audio, AES3)</li>
</ul>
<h3 id="plugin-integration-proof-of-concept-jpylyzer">Plugin integration proof of concept: jpylyzer</h3>
<p>For JPEG 2000 (GPLv3+ license, compatible with GPLv3+ but not with MPL2+)</p>
<h3 id="plugin-integration-proof-of-concept-dv-analyzer">Plugin integration proof of concept: DV Analyzer</h3>
<p>For DV (BSD license, compatible with GPLv3+ and MPL2+)</p>
<h3 id="optional">Optional</h3>
<ul>
<li>MPEG-1/2 Video (including IMX, AS-07, D-10 Video, FIMS…)</li>
<li>H.264/AVC (including AS-07)</li>
<li>Dirac</li>
<li>AC-3 (including AS-07)</li>
<li>MPEG 1/2 Audio</li>
<li>AAC</li>
<li>Any other essence format on sponsor request (we have skills in DV, VC-1, VC-3, MPEG-4 Visual, H.263, H.265/HEVC, FLAC, Musepack, Wavepack, , BMP, DPX, EXR, JPEG, PNG, SubRip, WebVTT, N19/STL, TTML…)</li>
</ul>
<h2 id="streamessence-decoder">Stream/Essence decoder</h2>
<h3 id="preforma-mediainfo-3">Preforma MediaInfo</h3>
<ul>
<li>PCM (including D-10 Audio, AES3)</li>
</ul>
<h3 id="plugin-integration-proof-of-concept-ffmpeg-1">Plugin integration proof of concept: FFmpeg</h3>
<p>FFmpeg decoder (GPLv2+ license, compatible with GPLv3+ but not with MPL2+)</p>
<h3 id="plugin-integration-proof-of-concept-openjpeg">Plugin integration proof of concept: OpenJPEG</h3>
<p>OpenJPEG decoder (BSD license, compatible with GPLv3+/MPL2+)</p>
<h2 id="containerwrapper-vs-streamessence-coherency-check">Container/Wrapper vs Stream/Essence Coherency Check</h2>
<h3 id="preforma-mediainfo-4">Preforma MediaInfo</h3>
<p>PreForma MediaInfo will support the coherency check between all suppoted formats (see Container/Wrapper implementation checker and Stream/Essence implementation checker parts)</p>
<h2 id="baseband-analyzer">Baseband Analyzer</h2>
<h3 id="preforma-mediainfo-5">Preforma MediaInfo</h3>
<ul>
<li>None (only creation of the API)</li>
</ul>
<h3 id="plugin-integration-proof-of-concept-qctools">Plugin integration proof of concept: QCTools</h3>
<p>QCTools graphs (report on and graph data documenting video signal loss, flag errors in digitization, identify which errors and artifacts are in original format and which resulted from the digital transfer based on all the data collected in the past.)</p>
<h2 id="hyperviser-controller">Hyperviser (Controller)</h2>
<p>The Hyperviser serves as communication between all plugins within and outside of the PreForma MediaInfo system and between all layers. The Hyperviser layer supports the following requirements:</p>
<ul>
<li>Scheduling</li>
<li>Statistics</li>
<li>Reporting</li>
<li>User management</li>
<li>Policies management</li>
</ul>
<h2 id="human-interface">Human interface</h2>
<p>PreForma MediaInfo will provide three different options for a human interface for maximum flexibility. These three interfaces are:</p>
<ul>
<li><p>Command line interface</p>
<p>A command line interface will be functional on nearly all kinds of operating systems, including those with very little graphical interface support.</p></li>
<li><p>GUI (based on Qt)</p>
<p>The GUI, being based on Qt, has the strength of being versatile between operating systems and does not require additional development time to provide support for multiple platforms.</p></li>
<li><p>Web UI (server/client)</p>
<p>The web interface will provide access to conformance checks without software installation.</p></li>
</ul>
<h1 id="style-guide">Style Guide</h1>
<h2 id="source-code-guide">Source Code Guide</h2>
<h3 id="portability">Portability</h3>
<p>Source code MUST be built for portability between technical deployment platforms.</p>
<h3 id="modularity">Modularity</h3>
<p>Source code MUST be built in a modular fashion for improved maintainability.</p>
<h3 id="deployment">Deployment</h3>
<p>The Conformance Checker MUST allow for deployment in these five infrastructures/environments: The PREFORMA website, an evaluation framework, a stand-alone system, a network-based system, and legacy systems.</p>
<p>To sufficiently demonstrate the scope and functionality of the Conformance Checker, it, along with associated documentation and guidelines, must be made available at the PREFORMA project website. The PREFORMA website will be considered as the deliverable for the PREFORMA project.</p>
<p>In order to gather sufficient structured feedback on the conformance checking process, the Conformance Checker will require deployment within the DIRECT infrastructure for test and evaluation of the tool in the PCP procedure.</p>
<p>The Conformance Checker must have the capability to be packaged and run as an executible on a PC running any standard operating system (at least for: MS Windows 7, Mac OSX, common Linux distributions such as Ubuntu, Fedora, Debian, and Suse). This ensures the conformance checker can be used in small-scale institutions without centralized IT infrastructure.</p>
<p>The Conformance Checker must allow for deployment in network-based solutions (dedicated server, cloud solutions) for digital repositories.</p>
<p>The Conformance Checker must have the capability of being plugged into legacy systems via written API integration.</p>
<h3 id="apis">API's</h3>
<p>The Conformance Checker MUST interface with other software systems via API’s.</p>
<h2 id="open-source-practices">Open Source Practices</h2>
<h3 id="development">Development</h3>
<p>Development of software in open source projects in PREFORMA MUST utilise effective open source work practices. Effective open source work practices include:</p>
<ul>
<li>use of nightly builds Nightly builds are automated neutral builds that reflect the current, most up-to-date status of a piece of developed software. Access made to nightly builds allow for groups of developers to work collaboratively and always assess the most current state of the software, with consideration to potential bugs or other hazards that could occur during the development process. Programmers are able to confidently determine if they &quot;broke the build&quot; (made the software inoperable) with their code and prevent or correct changes quickly, as needed.</li>
<li>use of software configuration management systems (e.g. Git) Using a software configuration management system allow for version and revision control, an essential component to developers working collaboratively. A version control system allows multiple people to work on same or similar sections of the source code base at the same time with awareness and prevention of overlapping or conflicting work. Git will be used as the software configuration management system for this project.</li>
<li>use of an open platform for open development (e.g. Github) An open platform on which to develop software facilitates the open development of that software. Public visibility and ability to contribute to the software by anyone allows for heartier, more reliable software. Feedback is more easily sought and more readily provided with the use of an open platform. Github will be used as the open platform for open development of this project.</li>
</ul>
<h3 id="open-source-platforms">Open Source Platforms</h3>
<p>All development of software and all development of digital assets (related to developed open source software) in PREFORMA MUST be conducted and provided in open source projects at open development platforms.</p>
<h2 id="contribution-guide">Contribution Guide</h2>
<h3 id="file-naming-conventions">File Naming Conventions</h3>
<p>Files related to documentation should be named in CamelCase. Sample data should be added in snake_case with a sufficiently descriptive title.</p>
<p>Commit messages should concisely summarize the contribution. Commits should be cohesive and only include changes to relevant files (e.g. do not fix a typo in the Style Guide, change scope paramaters, and fix a bug all in the same commit).</p>
<h3 id="rules-for-qtc-code">Rules for Qt/C++ code:</h3>
<p>4 spaces are used for indentation. Tabs are never used.</p>
<p>For more guidelines, refer to the Qt Coding Style guide: http://qt-project.org/wiki/Qt_Coding_Style For even more guidelines, Google guide on C++: http://google-styleguide.googlecode.com/svn/trunk/cppguide.html</p>
<h3 id="rules-for-contributing-code">Rules for contributing code</h3>
<p>Contributions of code or additions to documentation must be written with Qt and must be made in the form of a branch submitted as a pull request.</p>
<ol style="list-style-type: decimal">
<li>Fork this repository (https://github.com/MediaArea/PreFormaMediaInfo/fork)</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Added some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create a new Pull Request with a more verbose description of the proposed changes</li>
</ol>
<h3 id="rules-for-contributing-feedback">Rules for contributing feedback</h3>
<p>Feedback of all kind is encouraged and can either be made through <a href="https://github.com/MediaArea/PreFormaMediaInfo/issues">opening an issue</a> or by contacting the team directly at info@mediaarea.net</p>
<h3 id="linking">Linking</h3>
<p>In order to facilitate self-description, intuitive discovery, and use of resulting code and documentation it is highly encouraged to utilize linking through documentation, tickets, commit messages, and within the code. For instance the registry itemizes individual conformance checks should link to code blocks and/or commits as software is developed that is associated to that conformance check. In this manner it should be feasible to easily review both human-readable descriptions of conformity checks and associated programmatic implementations.</p>
<h2 id="license">License</h2>
<p>The software and digital assets delivered by tenderer are made available under the following IPR conditions:</p>
<p>All software developed during the PREFORMA project MUST be provided under the two specific open source licenses: “GPLv3 or later” and “MPLv2 or later”.</p>
<p>All source code for all software developed during the PREFORMA project MUST always be identical between the two specific open source licenses (“GPLv3 or later” and “MPLv2 or later”).</p>
<p>All digital assets developed during the PREFORMA project MUST be provided under the open access license: Creative Commons CC-BY v4.0 and in open file formats, i.e. an open standard as defined in the European Interoperability Framework for Pan-European eGovernment Service (version 1.0 2004)</p>
<h2 id="checker-design-conformance-and-coherency">Checker Design: Conformance and Coherency</h2>
<p>Conformance checks for both container formats (such as Matroska) and streams (such as LPCM and FFV1) shall be defined, registered, and associated with the code that performs the check. PreForma MediaInfo will perform and report on a growing list of tests per format. Many of these tests will be derived directly from the specifications or standard documents of a given file format, but other tests will derive from expected patterns and structural incoherency. Some checks focus on coherency between a stream and a container (such as if the container and stream utilize contradictory aspect ratios).</p>
<p>These checks shall have logical cause and effect or conditional relationships and shall be documented by the citation of external standards documentation or by the project’s own research and development. MediaArea plans to provide guidance for user communities to develop and explain their own ruleset in shareable form. An XML schema for conformance definition is provided. MediaArea’s development of conformance and policy checkers will involve several categories of tests. In addition to supporting conformity checks and logical interpretation of selected file formats, there is user desire for checks performed based on internal or institutional policy that are not necessarily embedded in the file format technical specifications. A PreForma MediaArea 'shell' shall be able to load multiple sets of conformity/coherency rulesets so that users may select which rulesets they choose to adhere to as well as create their own.</p>
<p>Conformance and coherency rulesets specifically targeting specification compliance of FFV1, Matroska, and LPCM are currently under development.</p>
<p>The Conformance Check Registry defines the basis of how a conformance check may be expressed. MediaArea proposes developing online resources that define checks and relate them to sample files, associated code, rationale, potential responses and community discussion. The Conformance Check Registry provides a basis on how information on the implementation checks themselves can be communicated to users.</p>
<h2 id="conformance-check-registry">Conformance Check Registry</h2>
<p>This documentation explains the elements, structure, and intent of the Preforma Mediainfo Conformance Check Registry.</p>
<p>A conformance check is a particular test applied to a file format, stream, or section of a format or stream in order to quantify the adherence of such data to associated sets of rules and practices. The registry refers specifically to checks performed by the implementation checker. Rules performed by the policy checker are defined elsewhere.</p>
<p>MediaArea plans to maintain an identity and open documentation for each Conformance Check in both a public online space and within the internal help documentation of a PreForma MediaInfo Shell. As the implementation checker assesses given files against a series of checks and the reporter presents the findings to the user, MediaArea plans for the shell to facilitate the user to discover more underlying information, advice, or responses to conformance checks that appear as problematic from the implementation checker.</p>
<h3 id="conformance-check-registry-requirements">Conformance Check Registry Requirements</h3>
<ul>
<li>Each conformance check must be identitified by a unique identifier.</li>
<li>Documentation for Conformance Checks must offer hierarchical relationships between related checks.</li>
<li>Conformance Checks must be documented according to their CCID (Conformance Check Identifier) and Version number.</li>
<li>Any revised Conformance Check must maintain a changelog as well as records of all past versions of the conformity check.</li>
<li>The following keywords to indicate requirement levels when used in a conformance check description MUST be used according to their definitions provided by (RFC2119)[http://tools.ietf.org/html/rfc2119]: &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot;.</li>
</ul>
<h3 id="elements">Elements</h3>
<p>A draft list of elements to be used in the definition of an implementation confomrance check are provided.</p>
<h4 id="name">Name</h4>
<p>A human-readable name for the conformance check.</p>
<h4 id="ccid">CCID</h4>
<p>Conformance Check Identifier. An alphanumeric identifier used to reference or identify the conformance check to order to relate code, documentation, and reports that reference the check.</p>
<h4 id="version">Version</h4>
<p>The version number of the reference Conformance Check. This value should be expressed as a standard GNU version number in major.minor.revision format. A value of &quot;0&quot; may be used to indictate draft status.</p>
<h4 id="authority">Authority</h4>
<p>The authority associates each conformance check with a standards organization, community, or logic from which the conformance check is derived. Examples: EBU, Microsoft. Within the use of a Conformance Checker, the user may enable or disable check from certain authorities; for instance to perform checks against specifications of Standards Organization A and Community Practice B, but not Standards Organization C or Community Practice D.</p>
<h4 id="target-format">Target Format</h4>
<p>The name of the file format, codec, or bit stream that is to be test.</p>
<h4 id="target-format-version">Target Format Version</h4>
<p>Identify the version of range of versions of the target format which are eligible for the conformance test. A numeric range should be used or the word &quot;all&quot; if the rule applies to all known versions.</p>
<h4 id="target-format-part">Target Format Part</h4>
<p>The name of a chunk, atom, element, bitstream, or other smaller component of the target format that the conformance check relates to.</p>
<h4 id="citation">Citation</h4>
<p>A reference of the specific document, specification, or reference from which the conformance check is derived. Typically the citation will be a publication or expression of the 'Authority'.</p>
<h4 id="quote">Quote</h4>
<p>A quote from the authority that demonstrates the logic or reaons for the check.</p>
<h4 id="rule-clarity">Rule Clarity</h4>
<p>Expresses whether the check is based of an explicit statement of an underlying specificiation or based on deductive logic or inference from a reading of the specification.</p>
<h4 id="definition">Definition</h4>
<p>A clear description of conformance check.</p>
<h4 id="regex-parameters">Regex Parameters</h4>
<p>A human-readable description of what the regular expression must check for.</p>
<h4 id="regular-expression">Regular Expression</h4>
<p>Code that checks for conformance to the suggested parameters.</p>
<h2 id="matroska-conformance-checks-draft">Matroska Conformance Checks (Draft)</h2>
<h3 id="extension-test">Extension Test</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EXT</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">File name</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/node/2/revisions/153/view</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote:</p>
<p>Definition: The file extension SHOULD be one of the following (MKV, MKA, MKS, MK3D, WEBM)</p>
<h3 id="extension-test-mkv">Extension Test MKV</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EXT-MKV</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">File name</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/node/2/revisions/153/view</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote:</p>
<p>Definition: If the file extension is MKV, the file SHOULD contain at least one video track.</p>
<h3 id="extension-test-mka">Extension Test MKA</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EXT-MKA</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">File name</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/node/7/revisions/214/view</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote:</p>
<p>Definition: If the file extension is MKA, the file SHOULD contain at least one audio track and no other type of track, i.e. &quot;audio-only&quot;.</p>
<h3 id="extension-test-mks">Extension Test MKS</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EXT-MKS</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">File name</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/node/2/revisions/153/view</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote:</p>
<p>Definition: If the file extension is MKS, the file SHOULD contain at least one subtitle track and no other type of track, i.e. &quot;subtitle-only&quot;.</p>
<h3 id="extension-test-mk3d">Extension Test MK3D</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EXT-MK3D</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">?</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">File name, StereoMode element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/node/2/revisions/153/view</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote:</p>
<p>Definition: If the file extension is MKV3D the file SHOULD contain at least one video track AND SHOULD contain at least one StereoMode element.</p>
<h3 id="ebml-element-start">EBML Element Start</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EBML-ELEM-START</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote: &quot;Set the EBML characteristics of the data to follow. Each EBML document has to start with this.&quot;</p>
<p>Definition: An Matroska file MUST start with an EBML element id, ie. 0x1A45DFA3.</p>
<h3 id="ebml-vint-efficiency">EBML vint efficiency</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">EBML-VINT-EFF</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">EBML Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">EBML</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Structure</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://matroska.org/technical/specs/rfc/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote: Section 2.2 &quot;IDs are always encoded in their shortest form, e.g. 1 is always encoded as 0x81 and never as 0x4001.&quot;</p>
<p>Definition: The bits following the Element ID's Length Descriptor are not more than (8 - ${bit-length-of-length-descriptor}) successive 0 bits, i.e. vint is expressed as efficiently as feasible.</p>
<h3 id="element-id-registered">Element ID Registered</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-KNOWN-ELEM</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">EBML</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote:</p>
<p>Definition: Ensure MKV Element ID is registered in specdata.xml (as of Dec. 13, 2014 this is 224 registered Element IDs)</p>
<h3 id="element-size-0x7f-reservation">Element Size 0x7F Reservation</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">EBML-ELEM-SIZE-7F</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">EBML Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">EBML</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Element Size</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://matroska.org/technical/specs/rfc/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Warning, since it is possible (though unlikely) element size is unknown but then happens to be 127 bytes.</p>
<p>Quote: &quot;Note that the shortest encoding form for 127 is 0x407f since 0x7f is reserved.&quot;</p>
<p>Definition: If Element Size is set to 0x11111111 but element size is actually 127 bytes provide a warning.</p>
<h3 id="element-size-byte-length-limit">Element Size Byte Length Limit</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">EBML-ELEM-SIZE-CAP</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">EBML Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">EBML</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Element Size</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://matroska.org/technical/specs/rfc/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote: Section 2.3: &quot;The EBML element data size is encoded as a variable size integer with, by default, widths up to 8.&quot;</p>
<p>Definition: The first eight bits of any Element Size may not start with 0b00000000.</p>
<h3 id="element-size-unknown">Element Size Unknown</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">EBML-ELEM-SIZE-UNK</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">EBML Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">EBML</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Element Size</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">Dave</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Warning</p>
<p>Quote: &quot;Values with all data bits set to 1 means size unknown, which allows for dynamically generated EBML streams where the final size isn't known beforehand.&quot;</p>
<p>Definition: Warning on unknown element sizes, unoptimized MKV.</p>
<h3 id="level-0-segment">Level 0 Segment</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-LEVEL-0</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote: Inferred: EBML and Segment are the only level 0 elements, both are allowed to occur multiple times.</p>
<p>Definition: The EBML Header MUST be immediately followed by another EBML Header Element, 0x1A45DFA3, or a Segment Element, 0x18538067. {{Can global Elements exist at level 0?!}}</p>
<h3 id="only-one-ebml-header-recommended">Only One EBML Header recommended</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-1-EBML</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Matroska structure</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">is there a rule to prevent this?</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Warning</p>
<p>Quote: Assumed: Two EBML Headers in one MKV file seems contradictory.</p>
<p>Definition: There SHOULD only occur one EBML level 0 element within an MKV file. (EBML Headers could recur if an MKV file is an attachment of an MKV file).</p>
<h3 id="file-size-consistency">File Size Consistency</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-FILESIZE-MATCH</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Matroska structure</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html#block_structure</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote: Inferred</p>
<p>Definition: The actual file size should be the sum of all level 0 Element Size declarations plus the sum of the byte sizes of level 0 Element IDs and Element Sizes.</p>
<h3 id="ebmlversion-presence">EBMLVersion Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EBML-VER</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: Within any EBML Header exactly one EMBL Version element must be present.</p>
<h3 id="ebmlreadversion-presence">EBMLReadVersion Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EBML-RV</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="ebmlmaxidlength-presence">EBMLMaxIDLength Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EBML-MAXIDL</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="ebmlmaxsizelength-presence">EBMLMaxSizeLength Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EBML-MAXSL</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="doctype-presence">DocType Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EBML-DOCT</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="doctypeversion-presence">DocTypeVersion Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EBML-DOCTV</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="doctypereadversion-presence">DocTypeReadVersion Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-EBML-DOCTRV</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="ebml-version-coherency">EBML Version Coherency</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-VER-COH</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html#block_structure</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote:</p>
<p>Definition: The value of EBMLVersion MUST be greater than or equal to the vale of EBMLReadVersion.</p>
<h3 id="ebmlmaxidlength-limits">EBMLMaxIDLength Limits</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-MAXID-LIMIT</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Spec says &quot;4 or less&quot;, but since the EBML ID length itself is 4, the EBMLMaxIDLength has not other valid value.</p>
<p>Quote:</p>
<p>Definition: MUST equal 4</p>
<h3 id="ebmlmaxsizelength-limit">EBMLMaxSizeLength Limit</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-MAXSL-LIMIT</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: &quot;The maximum length of the sizes you'll find in this file (8 or less in Matroska).&quot;</p>
<p>Quote:</p>
<p>Definition: Must be less than or equal to 8 and greater than or equal to 1.</p>
<h3 id="ebmlmaxsizelength-matches">EBMLMaxSizeLength Matches</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-MAXSL-MATCH</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: No Element Size Length exceeds the length noted in EBMLMaxSizeLength</p>
<h3 id="doctype">DocType</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-DOCT-KNOWN</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: MUST equal either &quot;matroska&quot; or &quot;webm&quot;</p>
<h3 id="doctypeversion-coherency">DocTypeVersion Coherency</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-DOCTV-COH</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: The value of DocTypeVersion MUST be greater than or equal to the vale of DocTypeReadVersion.</p>
<h3 id="doctypeversion-limits">DocTypeVersion Limits</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-DOCTV-LIMIT</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">EBML Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Warning</p>
<p>Quote:</p>
<p>Definition: Values for DocTypeVersion and DocTypeReadVersion must be either 1, 2, 3, or 4.</p>
<h3 id="top-elements-coded-on-4-octets">Top Elements Coded on 4 Octets</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TOP-ELEM-4CODE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Matroska structure</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html#block_structure</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: &quot;All top-levels elements (Segment and direct sub-elements) are coded on 4 octets, i.e. class D elements.&quot;</p>
<p>Quote:</p>
<p>Definition: Note: this seems to contradict EBML rule to use most efficient element size, but perhaps this is an intention deviation of MKV to achieve top elements starting on mutiples of 4 octets. ?</p>
<h3 id="crc-order">CRC Order</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-CRC-ORDER</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">CRC Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html#block_structure</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: &quot;The CRC element should be the first in it's parent master for easier reading.&quot;</p>
<p>Quote:</p>
<p>Definition: CRC Elements SHOULD be the first sub-Element of its parent Element.</p>
<h3 id="crc-32-size-coherency">CRC-32 Size Coherency</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-CRC-COH</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">CRC Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html#block_structure</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred: &quot;The CRC in use is the IEEE CRC32 Little Endian&quot;</p>
<p>Quote:</p>
<p>Definition: The Element Size of the CRC-32 Element MUST be 4 bytes (aka 32 bit).</p>
<h3 id="crc-validation">CRC Validation</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-CRC-VAL</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">CRC Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: The crc hash of the CRC-32 element MUST validate the subsequent data of the parent Element, from the Element that follows the CRC-32 element to the end of the parent Element.</p>
<h3 id="crc-not-pointlessly-used">CRC Not Pointlessly Used</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-CRC-REASON</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">CRC Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">author</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Recommended</p>
<p>Quote:</p>
<p>Definition: A CRC-32 element should not be the only child Element of its parent Element (ie hashing no data).</p>
<h3 id="crc-presence">CRC-Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-CRC-PRES</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">CRC Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity: &quot;All level 1 elements should include a CRC-32.&quot; but CRC-32 Element is NOT Mandatory. ?</p>
<p>Quote:</p>
<p>Definition: Warning when Level 1 elements have no CRC-32. Very common.</p>
<h3 id="single-segment-composition">Single Segment Composition</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote: &quot;Typically a Matroska file is composed of 1 segment.&quot;</p>
<p>Definition: File MUST contain at least one segment.</p>
<h3 id="seek-presence">Seek-Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-SEEK-PRES</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Meta Seek Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: File MUST contain at least one Seek element.</p>
<h3 id="seekid-presence">SeekID-Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-SEEKID-PRES</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Meta Seek Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: File MUST contain at least one SeekID element.</p>
<h3 id="seekid-type">SeekID-Type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-SEEKID-TYPE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Meta Seek Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: SeekID MUST be in binary format.</p>
<h3 id="seekposition-presence">SeekPosition-Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-SEEKPOSITION-PRES</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Meta Seek Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: File MUST contain at least one SeekPosition element.</p>
<h3 id="segment-info-presence">Segment-Info-Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-SEGMENTINFO-PRES</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: Segment information MUST contain at least one Info element.</p>
<h3 id="segmentuid-range">SegmentUID-Range</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-SEGMENTUID-RNG</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Range cannot be zero.</p>
<p>Quote:</p>
<p>Definition: SegmentUID MUST be greater than zero.</p>
<h3 id="segmentuid-size">SegmentUID-Size</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-SEGMENTUID-SIZE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, SegmentUID MUST be 128 bits (16 bytes) in size.</p>
<h3 id="segmentuid-type">SegmentUID-Type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-SEGMENTUID-TYPE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, SegmentUID MUST be in binary format.</p>
<h3 id="segmentfilename-type">SegmentFilename-Type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-SEGMENTFILENAME-TYPE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, SegmentFilename MUST be in UTF-8 format.</p>
<h3 id="prevuid-size">PrevUID-Size</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-PREVUID-SIZE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, PrevUID MUST be in binary format.</p>
<h3 id="prevuid-type">PrevUID-Type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-PREVUID-TYPE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, PrevUID MUST be 128 bits (16 bytes) in size.</p>
<h3 id="prevfilename-type">PrevFilename-Type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-PREVFILENAME-TYPE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, PrevFilename MUST be in UTF-8 format.</p>
<h3 id="nextuid-size">NextUID-Size</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-NEXTUID-SIZE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, NextUID MUST be in binary format.</p>
<h3 id="nextuid-type">NextUID-Type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-NEXTUID-TYPE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, NextUID MUST be 128 bits (16 bytes) in size.</p>
<h3 id="nextfilename-type">NextFilename-Type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-NEXTFILENAME-TYPE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, NextFilename MUST be in UTF-8 format.</p>
<h3 id="segmentfamily-size">SegmentFamily-Size</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-SEGMENTFAMILY-SIZE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, SegmentFamily MUST be in binary format.</p>
<h3 id="segmentfamily-type">SegmentFamily-Type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-SEGMENTFAMILY-TYPE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, SegmentFamily MUST be 128 bits (16 bytes) in size.</p>
<h3 id="timecodescale-presence">TimecodeScale-Presence</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TIMECODESCALE-PRES</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: File MUST contain at least one TimecodeScale element.</p>
<h3 id="duration-range">Duration-Range</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-DURATION-RANG</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, duration range MUST be greater than 0</p>
<h3 id="duration-type">Duration-Type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-DURATION-TYPE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.matroska.org/technical/specs/index.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, duration type MUST be float integer.</p>
<h3 id="dateutc-type">DateUTC-Type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-DATEUTC-TYPE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: UTC standards inferred.</p>
<p>Quote:</p>
<p>Definition: If present, DateUTC MUST be in date format and follow UTC standards.</p>
<h3 id="title-type">Title-Type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TITLE-TYPE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">Matroska Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">Matroska</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Segment Element</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">specdata.xml</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: If present, Title MUST be in UTF-8 format.</p>
<h3 id="tag-total-parts">Tag Total Parts</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-TOTALPARTS</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-part-number">Tag Part Number</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-PARTNUMBER</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-part-offset">Tag Part Offset</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-PARTOFFSET</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-title">Tag Title</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-TITLE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-subtitle">Tag Subtitle</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-SUBTITLE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-url">Tag URL</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-URL</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-sort_with">Tag Sort_with</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-SORT_WITH</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-email">Tag Email</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-EMAIL</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-address">Tag Address</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-ADDRESS</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-fax">Tag Fax</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-FAX</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-phone">Tag Phone</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-PHONE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-initial_key">Tag Initial_Key</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-INITIAL_KEY</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-law_rating">Tag Law_Rating</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-LAW_RATING</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-icra">TAG ICRA</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-ICRA</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-date_released">Tag DATE_RELEASED</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-DATE_RELEASED</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-date_recorded">Tag DATE_RECORDED</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-DATE_RECORDED</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-date_encoded">Tag DATE_ENCODED</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-DATE_ENCODED</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-date_tagged">Tag DATE_TAGGED</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-DATE_TAGGED</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-date_digitized">Tag DATE_DIGITIZED</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-DATE_DIGITIZED</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-date_written">Tag DATE_WRITTEN</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-DATE_WRITTEN</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-date_purchased">Tag DATE_PURCHASED</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-DATE_PURCHASED</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-play_counter">Tag Play_Counter</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-PLAY_COUNTER</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-fps">Tag FPS</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-FPS</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-bpm">Tag BPM</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-BPM</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-measure">Tag Measure</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-MEASURE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-tuning">Tag Tuning</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-TUNING</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-replay-gain-gain">Tag Replay Gain (Gain)</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-REPLAYGAIN_GAIN</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-replay-gain-peak">Tag Replay Gain (Peak)</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-REPLAYGAIN_PEAK</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-identifiers-isrc">Tag (Identifiers) ISRC</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-ISRC</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-identifiers-mcdi">Tag (Identifiers) MCDI</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-MCDI</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-identifiers-isbn">Tag (Identifiers) ISBN</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-ISBN</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-identifiers-barcode">Tag (Identifiers) Barcode</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-BARCODE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-identifiers-catalog-number">Tag (Identifiers) Catalog number</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-CATALOG_NUMBERA</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-identifiers-label-code">Tag (Identifiers) Label code</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-LABEL_CODE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-identifiers-lccn">Tag (Identifiers) LCCN</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-LCCN</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-commercial-purchase-item">Tag (Commercial) Purchase Item</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-PURCHASE_ITEM</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-commercial-purchase-price">Tag (Commercial) Purchase Price</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-PURCHASE_PRICE</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="tag-commercial-purchase-currency">Tag (Commercial) Purchase Currency</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">MKV-TAG-PURCHASE_CURRENCY</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h2 id="ffv1-conformance-checks-draft">FFV1 Conformance Checks (Draft)</h2>
<h3 id="missing-header">Missing header</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">OUTOFBAND-HEADER-MISSING</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">FVV1 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">FFV1 &gt;=2</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.ffmpeg.org/~michael/ffv1.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote: &quot;Version 2 and later files use a global header&quot;</p>
<p>Definition: If version is 2 or more, there should be a global header in the container private data</p>
<h3 id="version-1">version</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">FFV1-HEADER-version</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">FVV1 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">FFV1</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.ffmpeg.org/~michael/ffv1.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Warning</p>
<p>Quote: &quot;version 0, 1 or 3&quot;</p>
<p>Definition: Maximum known version is 3, analysis stops (note: doc sometimes indicates version 4)</p>
<h3 id="version-2">version 2</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">FFV1-HEADER-version2</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">FVV1 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">FFV1</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.ffmpeg.org/~michael/ffv1.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Warning</p>
<p>Quote: &quot;Version 2 was never enabled in the encoder thus version 2 files should not exist&quot;</p>
<p>Definition: Version 2 is forbidden, analysis stops</p>
<h3 id="micro_version-2">micro_version 2</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">FFV1-HEADER-micro_version</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">FVV1 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">FFV1</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.ffmpeg.org/~michael/ffv1.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Warning</p>
<p>Quote: &quot;For version 3, micro_version is 4, micro versions prior to this represent pre standard&quot;</p>
<p>Definition: Not supported version, high risk of decoding issue</p>
<h3 id="coder_type">coder_type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">FFV1-HEADER-coder_type</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">FVV1 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">FFV1</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.ffmpeg.org/~michael/ffv1.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote: &quot;0 (Golomb Rice), 1 (Range coder), 2 (Range coder with custom state transition table)&quot;</p>
<p>Definition: coder_type &gt;2 is not supported</p>
<h3 id="state_transition_delta">state_transition_delta</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">FFV1-HEADER-state_transition_delta</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">FVV1 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">FFV1</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.ffmpeg.org/~michael/ffv1.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: (To be defined)</p>
<h3 id="colorspace_type">colorspace_type</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">FFV1-HEADER-colorspace_type</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">FVV1 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">FFV1</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.ffmpeg.org/~michael/ffv1.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote: &quot;0 (YCbCr), 1 (JPEG2000_RCT) &quot;</p>
<p>Definition: colorspace_type &gt;1 is not supported</p>
<h3 id="bits_per_raw_sample">bits_per_raw_sample</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">FFV1-HEADER-bits_per_raw_sample</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">FVV1 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">FFV1</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">all</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">Header</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">http://www.ffmpeg.org/~michael/ffv1.html</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Are other values valid?</p>
<p>Quote: &quot;commonly 8, 9, 10 or 16 &quot;</p>
<p>Definition:</p>
<h3 id="more-header-tests-to-add">(More header tests to add)</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition:</p>
<h3 id="crc_parity">crc_parity</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">FFV1-HEADER-crc_parity</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">FVV1 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote: &quot;32bit that are choosen so that the global header as a whole or slice as a whole has a crc&quot;</p>
<p>Definition:</p>
<h2 id="lpcm-conformance-checks-draft">LPCM Conformance Checks (Draft)</h2>
<h3 id="formattype">formatType</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">BWF-LPCM-FMT</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">EBU BWAV v2 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">BWF</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">FormatChunk 'fmt'</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">EBU Tech 3285 v2, pg. 16</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote: &quot;If the <wFormatTag> field of the <fmt-ck> is set to WAVE_FORMAT_PCM, then the waveform data consists of samples represented in pulse code modulation (PCM) format.&quot;</p>
<p>Definition: WAVE_FORMAT_PCM = 0x0001</p>
<h3 id="bitspersample">bitsPerSample</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">BWF-LPCM-BPS</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">EBU BWAV v2 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">BWF</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">FormatChunk 'fmt'</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">EBU Tech 3285 v2, pg. 17</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote: &quot;The <nBitsPerSample> field specifies the number of bits of data used to represent each sample of each channel. If there are multiple channels, the sample size is the same for each channel.&quot;</p>
<p>Definition: valid bits per sample 16, 20 or 24</p>
<h3 id="bytespersecond">bytesPerSecond</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">BWF-LPCM-BYT</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">EBU BWAV v2 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">BWF</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">FormatChunk 'fmt'</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">EBU Tech 3285 v2, pg. 17</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote: &quot;For PCM data, the <nAvgBytesPerSec> field of the ‘fmt’ chunk should be equal to the following formula rounded up to the next whole number: (nChannels x nSamplesPerSecond x nBitsPerSample) / 8&quot;</p>
<p>Definition: MUST equal (nChannels x nSamplesPerSecond x nBitsPerSample) / 8 **only important for compressed formats</p>
<h3 id="blockalignment">blockAlignment</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">BWF-LPCM-BLK</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">EBU BWAV v2 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">BWF</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">FormatChunk 'fmt'</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">EBU Tech 3285 v2, pg. 17</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote: &quot;The <nBlockAlign> field should be equal to the following formula, rounded to the next whole number: (nChannels x nBitsPerSample)/8&quot;</p>
<p>Definition: C ontainer size (in bytes) of one set of samples. MUST equal (nChannels x nBitsPerSample)/8EBU **Note: The above formulae do not always give the correct answer. Strictly speaking, the number of bytes per sample (nBitsPerSample/8) should be rounded first. Then this integer should be multiplied by <nChannels> (which is always an integer) to give <nBlockAlign>. This in turn should be multiplied by <nSamplesPerSecond> to give <nAvgBytesPerSec>].</p>
<h3 id="channelcount">channelCount</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">BWF-LPCM-CHN</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">EBU BWAV v2 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">BWF</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">FormatChunk 'fmt'</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">EBU Tech 3285 v2, pg. 17</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote: 1 = mono, 2 = stereo, etc.</p>
<p>Definition: 1 = mono, 2 = stereo, etc.</p>
<h3 id="nchannels">nChannels</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">BWF-LPCM-CHN</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">EBU BWAV v2 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">BWF</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">FormatChunk 'fmt'</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">EBU Tech 3285 v2, pg. 17</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote: &quot;Number of channels in the wave, 1 for mono, 2 for stereo&quot;</p>
<p>Definition: 1 = mono, 2 = stereo, etc.</p>
<h3 id="samplerate">sampleRate</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">BWF-LPCM-SRT</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">EBU BWAV v2 Specification</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">BWF</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">FormatChunk 'fmt'</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">EBU Tech 3285 v2, pg. 17</td>
</tr>
</tbody>
</table>
<p>Rule Clarity: Inferred</p>
<p>Quote: &quot;Frequency of the sample rate of the wave file. This should be 48000 or 44100 etc. This rate is also used by the sample size entry in the fact chunk to determine the length in time of the data.&quot;</p>
<p>Definition: 32000, 44100, 48000, etc.</p>
<h2 id="containerstream-coherency-checks-draft">Container/Stream Coherency Checks (Draft)</h2>
<h3 id="aspect-ratio-match">Aspect Ratio Match</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">COHERENCY-DAR</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">FFV1/MKV</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: Display Aspect Ratio indicated in the container (e.g. Matroska) is not the Display Aspect Ratio indicated in the FFV1 stream</p>
<h3 id="width-match">Width Match</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">COHERENCY-WIDTH</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">FVV1 and Container Specifications</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">FFV1</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">Container</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">all</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">Header</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: Width indicated in the container (e.g. Matroska) is not the width indicated in the FFV1 stream</p>
<h3 id="height-match">Height Match</h3>
<table>
<thead>
<tr class="header">
<th align="left">Descriptor</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CCID</td>
<td align="left">COHERENCY-HEIGHT</td>
</tr>
<tr class="even">
<td align="left">Version</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Authority</td>
<td align="left">FVV1 and Container Specifications</td>
</tr>
<tr class="even">
<td align="left">Target Format</td>
<td align="left">FFV1</td>
</tr>
<tr class="odd">
<td align="left">Target Format Version</td>
<td align="left">Container</td>
</tr>
<tr class="even">
<td align="left">Target Format Part</td>
<td align="left">all</td>
</tr>
<tr class="odd">
<td align="left">Citation</td>
<td align="left">Header</td>
</tr>
</tbody>
</table>
<p>Rule Clarity:</p>
<p>Quote:</p>
<p>Definition: Height indicated in the container (e.g. Matroska) is not the height indicated in the FFV1 stream</p>
